<!--
Copyright (C) 2006-2022 c.a.p.e. IT GmbH, https://www.cape-it.de
--
This software comes with ABSOLUTELY NO WARRANTY. For details, see
the enclosed file LICENSE for license information (GPL3). If you
did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.
--
-->

<div.app-wrapper class={
    blur: state.activeMobile
}>
    <if(state.initialized)>
        <if(!state.reload)>
            <div.header-wrapper>
                <kix-header/>
                <if(!state.isMobile)>
                    <tabbar/>
                </if>
            </div>
            <div.main-menu-wrapper active=(state.activeMobile === 1)>
                <main-menu no-update/>
            </div>
            <if(!state.reloadContent)>
                <div.sidebar-left-wrapper active=(state.activeMobile === 2)>
                    <sidebar isLeft=true/>
                </div>
                <div.content-wrapper>
                    <router-outlet id="base-router"/>                
                </div>
                <div.sidebar-right-wrapper active=(state.activeMobile === 3)>
                    <sidebar/>
                </div>
            </if>
            <div.footer-wrapper>
                <kix-footer/>
            </div>
            <image-viewer/>
            <overlay/>
            <if(state.isMobile)>
                <if(state.activeMobile === 4)>
                    <div.mobile-toolbar-wrapper active>
                        <div.application-toolbar-wrapper>
                            <application-toolbar/>
                        </div>
                        <div.search-object-dropdown-wrapper>
                            <search-object-dropdown/>
                        </div>
                        <div.personal-toolbar-wrapper>
                            <personal-toolbar/>
                        </div>
                    </div>
                </if>
                <mobile-shields/>
            </if>
        </if>
    </if>
    <loading-shield shieldId="APP_SHIELD"/>
    <if(state.loading)>
        <div.app-loading-shield>
            <div.loading-info>
                <loading-spinner/>
                <span>
                    <translation-string pattern=state.loadingHint/>
                </span>
            </div>
        </div>
    </if>
</div>
